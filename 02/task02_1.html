<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset='utf-8'>
        <link rel='icon' href="data:;base64,=">
        <meta name='viewport' content='width=device-width,initial-scale=1,user-scalable=no'>
        <style>
            .on{
                color:red;
            }
            .hidden{
                visibility:hidden
            }
        </style>
    </head>
    <body>
        <input type="text">  <br>
        <input type="text">
        <textarea name="" id="" cols="30" rows="10" placeholder="用半角逗号,分隔"></textarea>
        <button>点击</button>
        <div class="show"></div> <span class='hidden'>错了</span>
        <script src='./util.js'></script>
        <script>
            addEvent($('button'),'click',function(){
                //var val=$('textarea').value.split(',')
                var limit=10;
                var val=$('textarea').value.split(/[,;\r\n，\s、]/)
                var rescon=[];
                var inner='';
                val.forEach((element,index,array) => {
                    array[index]=element.trim();
                });
                val.forEach((element,index,array) => {
                    console.log(element)
                    if(element !="")
                        rescon.push(array[index])
                });
                if(rescon.length>limit||rescon.length==0){
                    removeClass($('span'),'hidden')
                    addClass($('span'),'on')
                    return null;
                }
                setClass($('span'),'hidden')
                //$('.show').textContent=[...new Set(rescon)]
                rescon.forEach((element,index,array) => {
                    inner+="<input type='checkbox' id="+element+">  <label for="+element+">"+element+"</label> <br/>"
                });
                $('.show').innerHTML=inner;
                console.log([...new Set(rescon)]);
            })
        </script>
    </body>
</html>